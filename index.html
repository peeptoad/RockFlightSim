<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rocket Flight Simulator</title>
    <style>
        label {
            display: block;
            margin-bottom: 5px;
        }
        input {
            margin-bottom: 10px;
        }
        button {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>Rocket Flight Simulator</h1>
    
    <!-- Rocket Parameters -->
    <h2>Rocket Parameters</h2>
    <div>
        <label for="rocketLength">Rocket Length (inches):</label>
        <input type="number" id="rocketLength" min="0">
    </div>
    <div>
        <label for="rocketDiameter">Rocket Diameter (inches):</label>
        <input type="number" id="rocketDiameter" min="0">
    </div>
    <div>
        <label for="rocketWeight">Rocket Weight (pounds):</label>
        <input type="number" id="rocketWeight" min="0">
    </div>
    
    <!-- Engine Characteristics -->
    <h2>Engine Characteristics</h2>
    <div>
        <label for="specificImpulse">Specific Impulse (pounds-seconds):</label>
        <input type="number" id="specificImpulse" min="0">
    </div>
    <div>
        <label for="burnTime">Burn Time (seconds):</label>
        <input type="number" id="burnTime" min="0">
    </div>
    <div>
        <label for="ejectionChargeTime">Ejection Charge Time (seconds):</label>
        <input type="number" id="ejectionChargeTime" min="0">
    </div>
    
    <!-- Atmospheric Conditions -->
    <h2>Atmospheric Conditions</h2>
    <div>
        <label for="airDensity">Air Density (kg/m³):</label>
        <input type="number" id="airDensity" value="1.225" min="0">
    </div>
    <div>
        <label for="windSpeed">Wind Speed (m/s):</label>
        <input type="number" id="windSpeed" value="0">
    </div>
    
    <!-- Buttons -->
    <button onclick="simulateFlight()">Simulate Flight</button>

    <!-- Results -->
    <h2>Results</h2>
    <div>
        <label for="altitude">Altitude (feet):</label>
        <span id="altitude"></span>
    </div>
    <div>
        <label for="maxAltitude">Max Altitude (feet):</label>
        <span id="maxAltitude"></span>
    </div>
    <div>
        <label for="speed">Speed (mph):</label>
        <span id="speed"></span>
    </div>

    <!-- Script -->
    <script>
        // Function to simulate rocket flight
        function simulateFlight() {
            // Retrieve rocket parameters and engine characteristics
            let rocketLength = parseFloat(getValue('rocketLength')); // inches
            let rocketDiameter = parseFloat(getValue('rocketDiameter')); // inches
            let rocketWeight = parseFloat(getValue('rocketWeight')); // pounds
            let specificImpulse = parseFloat(getValue('specificImpulse')); // pounds-seconds
            let burnTime = parseFloat(getValue('burnTime')); // seconds
            let ejectionChargeTime = parseFloat(getValue('ejectionChargeTime')); // seconds
            
            // Retrieve atmospheric conditions
            let airDensity = parseFloat(getValue('airDensity')); // kg/m³
            let windSpeed = parseFloat(getValue('windSpeed')); // m/s

            // Validate inputs
            if (isNaN(rocketLength) || isNaN(rocketDiameter) || isNaN(rocketWeight) ||
                isNaN(specificImpulse) || isNaN(burnTime) || isNaN(ejectionChargeTime) ||
                isNaN(airDensity) || isNaN(windSpeed)) {
                alert("Please enter valid numeric values for all inputs.");
                return;
            }

            // Conversion factors
            const METER_TO_FEET = 3.28084;
            const MPS_TO_MPH = 2.23694;

            // Convert rocket dimensions and weight
            rocketLength /= METER_TO_FEET; // Convert inches to feet
            rocketDiameter /= METER_TO_FEET; // Convert inches to feet
            rocketWeight *= 32.174; // Convert pounds to pounds-force

            // Initialize variables
            let altitude = 0;
            let speed = 0;
            let maxAltitude = 0; // Initialize maximum altitude

            // Simulation time step (seconds)
            const dt = 0.1;

            // Simulate flight until burnout
            for (let t = 0; t < burnTime; t += dt) {
                // Calculate thrust based on specific impulse and burn time
                let thrust = specificImpulse * rocketWeight / burnTime; // pounds-force
                
                // Calculate drag force based on air density, rocket dimensions, and speed
                let dragForce = 0.5 * airDensity * Math.PI * (rocketDiameter / 2) ** 2 * speed ** 2; // pounds-force
                
                // Calculate net force
                let netForce = thrust - dragForce;

                // Calculate acceleration
                let acceleration = netForce / rocketWeight;

                // Update speed and altitude
                speed += acceleration * dt * MPS_TO_MPH; // Convert m/s to mph
                altitude += speed * dt * METER_TO_FEET; // Convert meters to feet

                // Apply wind speed
                altitude += windSpeed * dt * METER_TO_FEET; // Convert m/s to feet

                // Update maximum altitude
                maxAltitude = Math.max(maxAltitude, altitude);
            }

            // Display results
            document.getElementById('altitude').textContent = altitude.toFixed(2);
            document.getElementById('maxAltitude').textContent = maxAltitude.toFixed(2);
            document.getElementById('speed').textContent = speed.toFixed(2);
        }

        // Helper function to retrieve input value by ID
        function getValue(id) {
            return document.getElementById(id).value;
        }
    </script>
</body>
</html>



