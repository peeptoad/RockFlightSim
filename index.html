<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rocket Flight Simulator</title>
    <style>
        label {
            display: block;
            margin-bottom: 5px;
        }
        input {
            margin-bottom: 10px;
        }
        button {
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <h1>Rocket Flight Simulator</h1>
    
    <!-- Rocket Parameters -->
    <h2>Rocket Parameters</h2>
    <div>
        <label for="rocketLength">Rocket Length (inches):</label>
        <input type="number" id="rocketLength" min="0">
    </div>
    <div>
        <label for="rocketDiameter">Rocket Diameter (inches):</label>
        <input type="number" id="rocketDiameter" min="0">
    </div>
    <div>
        <label for="rocketWeight">Rocket Weight (pounds):</label>
        <input type="number" id="rocketWeight" min="0">
    </div>
    
    <!-- Engine Characteristics -->
    <h2>Engine Characteristics</h2>
    <div>
        <label for="specificImpulse">Specific Impulse (pounds-seconds):</label>
        <input type="number" id="specificImpulse" min="0">
    </div>
    <div>
        <label for="burnTime">Burn Time (seconds):</label>
        <input type="number" id="burnTime" min="0">
    </div>
    <div>
        <label for="ejectionChargeTime">Ejection Charge Time (seconds):</label>
        <input type="number" id="ejectionChargeTime" min="0">
    </div>
    
    <!-- Atmospheric Conditions -->
    <h2>Atmospheric Conditions</h2>
    <div>
        <label for="airDensity">Air Density (kg/mÂ³):</label>
        <input type="number" id="airDensity" value="1.225" min="0">
    </div>
    <div>
        <label for="windSpeed">Wind Speed (m/s):</label>
        <input type="number" id="windSpeed" value="0">
    </div>
    
    <!-- Buttons -->
    <button onclick="simulateFlight()">Simulate Flight</button>

    <!-- Results -->
    <h2>Results</h2>
    <div>
        <label for="altitude">Altitude (feet):</label>
        <span id="altitude"></span>
    </div>
    <div>
        <label for="speed">Speed (mph):</label>
        <span id="speed"></span>
    </div>

    <!-- Script -->
    <script>
        // Function to simulate rocket flight
        function simulateFlight() {
            // Retrieve rocket parameters and engine characteristics
            let rocketLength = parseFloat(getValue('rocketLength')) * 0.0254 * 39.3701; // Convert inches to meters, then to feet
            let rocketDiameter = parseFloat(getValue('rocketDiameter')) * 0.0254 * 39.3701; // Convert inches to meters, then to feet
            let rocketWeight = parseFloat(getValue('rocketWeight')) * 0.453592; // Convert pounds to kilograms
            let specificImpulse = parseFloat(getValue('specificImpulse')) * 4.44822; // Convert pounds to newtons
            let burnTime = parseFloat(getValue('burnTime'));
            let ejectionChargeTime = parseFloat(getValue('ejectionChargeTime'));
            
            // Retrieve atmospheric conditions
            let airDensity = parseFloat(getValue('airDensity'));
            let windSpeed = parseFloat(getValue('windSpeed'));

            // Validate inputs
            if (isNaN(rocketLength) || isNaN(rocketDiameter) || isNaN(rocketWeight) ||
                isNaN(specificImpulse) || isNaN(burnTime) || isNaN(ejectionChargeTime) ||
                isNaN(airDensity) || isNaN(windSpeed)) {
                alert("Please enter valid numeric values for all inputs.");
                return;
            }

            // Simulation time step (seconds)
            let dt = 0.1;

            // Initialize variables
            let altitude = 0;
            let speed = 0;

            // Simulate flight until burnout
            let t = 0; // Initial time
            while (t < burnTime) {
                // Calculate thrust based on specific impulse and burn time
                let thrust = specificImpulse * rocketWeight / burnTime; // F = Isp * (m * g) / burnTime

                // Calculate drag force based on air density, rocket dimensions, and speed
                let dragForce = 0.5 * airDensity * Math.PI * (rocketDiameter / 2) ** 2 * speed ** 2; // F = 0.5 * rho * A * v^2
                
                // Calculate net force
                let netForce = thrust - dragForce;

                // Calculate acceleration
                let acceleration = netForce / rocketWeight;

                // Update speed and altitude
                speed += acceleration * dt * 2.23694; // Convert meters per second to miles per hour
                altitude += speed * dt * 3.28084; // Convert meters to feet

                // Apply wind speed
                altitude += windSpeed * dt * 3.28084; // Convert meters to feet

                // Increment time
                t += dt;
            }

            // Display results
            setValue('altitude', altitude.toFixed(2));
            setValue('speed', speed.toFixed(2));
        }

        // Helper function to retrieve input value by ID
        function getValue(id) {
            return document.getElementById(id).value;
        }

        // Helper function to set text content by ID
        function setValue(id, value) {
            document.getElementById(id).textContent = value;
        }
    </script>
</body>
</html>


